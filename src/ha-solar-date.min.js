 /*HA-SolarDate v1.1 � 2016 by Hossein Alipour http://hosseinalipour.ir*/
function HaSolarDate(t,e,a,r,o,n){if(null==t&&null==e&&null==a){var i=new Date,s=this.convertFromGregorian(i);this.year=s.getFullYear(),this.month=s.getMonth(),this.day=s.getDate()}else this.year=t,this.month=e,this.day=a;this.hour=r||0,this.minute=o||0,this.second=n||0,this.getFullYear=function(){return this.year},this.getMonth=function(){return this.month},this.getDate=function(){return this.day},this.getHours=function(){return this.hour},this.getMinutes=function(){return this.minute},this.getSeconds=function(){return this.second},this.setHours=function(t){this.hour=t},this.setMinutes=function(t){this.minute=t},this.setSeconds=function(t){this.second=t},this.monthNames=["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],this.dayNames=["شنبه","یکشنبه","دوشنبه","سشنبه","چهارشنبه","پنجشنبه","جمعه"]}function cal(t){var e=document.getElementById("res"),t=d.convertFromGregorian(t);e.innerHTML=d.isLeapYear(t.getFullYear()),console.log(t.year,d.getMonthName(t.month),t.day),console.log(t.getWeekDay())}Date.isLeapYear=function(t){return 1==new Date(t,1,29).getMonth()},HaSolarDate.prototype.toString=function(){return this.dayNames[this.getDay()]+" "+this.getDate()+" "+this.monthNames[this.getMonth()]+" "+this.getFullYear()},HaSolarDate.prototype.getDayOfWeekName=function(t){return this.dayNames[t]},HaSolarDate.prototype.compare=function(t,e){return null==t?0:(null==e&&(e=t,t=this),t.getFullYear()>e.getFullYear()?-1:t.getFullYear()<e.getFullYear()?1:t.getMonth()>e.getMonth()?-1:t.getMonth()<e.getMonth()?1:t.getDate()>e.getDate()?-1:t.getDate()<e.getDate()?1:0)},HaSolarDate.prototype.getMonthName=function(t){return this.monthNames[t]},HaSolarDate.prototype.convertToGregorian=function(t){null==t&&(t=this);var e,a=t.getDayOfYear();e=t.getFullYear()+621;var r=a+79,o=new Date(e,0,0);return o.setDate(o.getDate()+r),o},HaSolarDate.prototype.convertFromGregorian=function(t){var e=new Date(t),a=e.getHours(),r=e.getMinutes(),o=e.getSeconds();e.setHours(0);var n=new Date(e.getFullYear(),0,0),i=e-n,s=864e5,h=Math.round(i/s),u=h-79,l=0;u<0&&(u=this.getYearTotalDays(e.getFullYear()-622)+u,l=-1);var g=new HaSolarDate(e.getFullYear()-621+l,0,0);return g.setDate(u),g.setHours(a),g.setMinutes(r),g.setSeconds(o),g},HaSolarDate.prototype.setDate=function(t){var e=this.getDayOfYear()+t;e<=186?(this.month=Math.floor(e/31),this.day=e%31,0==this.day&&(this.day=31,this.month--)):(e-=186,this.month=6+Math.floor(e/30),this.day=e%30,0==this.day&&(this.day=30,this.month--))},HaSolarDate.prototype.getDay=function(){return this.getWeekDay(this)},HaSolarDate.prototype.getWeekDay=function(t){null==t&&(t=this);var e=t.getMonth()+1,a=t.getFullYear(),r=t.getDate();if("NaN"==Number(r)||"NaN"==Number(e)||"NaN"==Number(a))return"Wrong Date!";for(var o=1,n=a<1395?1:-1,i=a,s=0;1395!=i;)this.isLeapYear(i)&&s++,i+=n;a>1395&&s++;var h=o+(a-1395)%7+s*-n;if(e<=6)var u=(3*(e-1)-1+r+h)%7;else var u=(2*(e-1)-2+r+h)%7;return u=Math.floor(u),7==u&&(u=0),u},HaSolarDate.prototype.isLeapYear=function(t){return t%33==26||t%33==22||t%33==17||t%33==13||t%33==9||t%33==5||t%33==1||t%33==30},HaSolarDate.prototype.getDayOfYear=function(t){null==t&&(t=this);var e=0;return e=t.getMonth()<6?31*t.getMonth()+t.getDate():186+30*(t.getMonth()-6)+t.getDate()},HaSolarDate.prototype.getYearTotalDays=function(t){return null==t&&(t=this.getFullYear()),this.isLeapYear(t)?366:365},HaSolarDate.prototype.getMonthTotalDays=function(t,e){return t<0?(e-=Math.floor(Math.abs(t/12))+1,t=11+t%12):t>11&&(e+=Math.floor(t/12),t%=12),t<6?31:11==t?this.isLeapYear(e)?30:29:30};var d=new HaSolarDate;